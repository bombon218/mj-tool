(function(e){function t(t){for(var o,a,c=t[0],l=t[1],u=t[2],d=0,b=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&b.push(i[a][0]),i[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);s&&s(t);while(b.length)b.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var l=n[c];0!==i[l]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={app:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0101":function(e,t,n){},"0f51":function(e,t,n){"use strict";n("6d5a")},"16a8":function(e,t,n){},"16c3":function(e,t,n){"use strict";n("db97")},"2b51":function(e,t,n){"use strict";n("a055")},"2f52":function(e,t,n){},3164:function(e,t,n){},"34d7":function(e,t,n){},"3a91":function(e,t,n){},"3bec":function(e,t,n){},"3f1b":function(e,t,n){e.exports=n.p+"img/reach.51b3341e.png"},4850:function(e,t,n){},5524:function(e,t,n){"use strict";n("8d48")},6273:function(e,t,n){"use strict";n("4850")},"66ce":function(e,t,n){"use strict";n("b838")},"6d2e":function(e,t,n){"use strict";n("3a91")},"6d5a":function(e,t,n){},"71ae":function(e,t,n){},"8d48":function(e,t,n){},9014:function(e,t,n){"use strict";n("3164")},"9aaa":function(e,t,n){"use strict";n("3bec")},a055:function(e,t,n){},a1b3:function(e,t,n){"use strict";n("71ae")},aa30:function(e,t,n){"use strict";n("0101")},b303:function(e,t,n){"use strict";n("34d7")},b838:function(e,t,n){},c49c:function(e,t,n){"use strict";n("d298")},c883:function(e,t,n){"use strict";n("ece7")},c9b7:function(e,t,n){"use strict";n("16a8")},c9bb:function(e,t,n){e.exports=n.p+"img/back.39c5888b.jpeg"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),i=Object(o["createElementVNode"])("div",{id:"nav"},null,-1);function r(e,t){var n=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[i,Object(o["createVNode"])(n)],64)}n("0f51");var a=n("d959"),c=n.n(a);const l={},u=c()(l,[["render",r]]);var s=u,d=(n("b0c0"),n("6c02")),b=n("c9bb"),p=n.n(b),f={class:"home"};function h(e,t,n,i,r,a){var c=Object(o["resolveComponent"])("CenterTable");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",f,[Object(o["createElementVNode"])("img",{class:"back",src:p.a,onClick:t[0]||(t[0]=function(t){return e.back()})}),Object(o["createVNode"])(c)])}var m=n("d4ec"),O=n("bee2"),j=n("262e"),v=n("2caf"),y=n("9ab4"),g=n("ce1f"),k={class:"center-table"};function I(e,t,n,i,r,a){var c=Object(o["resolveComponent"])("RoundInfo"),l=Object(o["resolveComponent"])("Player");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",k,[Object(o["createVNode"])(c),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.playerInfo,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:t.id,class:Object(o["normalizeClass"])("player"+(n+1)),playerInfo:t,diffPoint:e.diffPoint[n],isOtherTouch:e.isTouch,onTouchStart:e.touchStart,onTouchEnd:e.touchEnd},null,8,["class","playerInfo","diffPoint","isOtherTouch","onTouchStart","onTouchEnd"])})),128))])}n("d81d");var N={class:"point-disp"};function E(e,t,n,i,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("span",N,Object(o["toDisplayString"])(e.point),1)}n("a9e3");var V=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return n}(g["b"]);V=Object(y["a"])([Object(g["a"])({props:{point:Number}})],V);var w=V;n("9014");const P=c()(w,[["render",E]]);var S=P,L=n("3f1b"),T=n.n(L),B={class:"player"},D={class:"flex"},x={class:"player-name"};function C(e,t,n,i,r,a){var c=Object(o["resolveComponent"])("Wind"),l=Object(o["resolveComponent"])("PointDisplay");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",B,[Object(o["createVNode"])(c,{class:"wind",wind:e.playerInfo.wind,id:e.playerInfo.id},null,8,["wind","id"]),Object(o["createElementVNode"])("div",D,[Object(o["createElementVNode"])("img",{class:Object(o["normalizeClass"])(["reach-img",{gray:!e.playerInfo.reach}]),src:T.a,onClick:t[0]||(t[0]=function(t){return e.doReach(e.playerInfo.id)})},null,2),Object(o["createVNode"])(l,{class:"point-component",point:e.dispPoint,ref:"pointDisplay"},null,8,["point"])]),Object(o["createElementVNode"])("span",x,Object(o["toDisplayString"])(e.playerInfo.name),1)])}var R=["value"],F={class:"top-content"},q={class:"main-content"},U={class:"bottom-content"},$=["disabled"];function H(e,t,n,i,r,a){var c=Object(o["resolveComponent"])("SelectList"),l=Object(o["resolveComponent"])("RonLiquidation"),u=Object(o["resolveComponent"])("TumoLiquidation"),s=Object(o["resolveComponent"])("DrawLiquidation"),d=Object(o["resolveComponent"])("Dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createElementVNode"])("button",{class:"wind-button",value:e.wind,onClick:t[0]||(t[0]=function(){return e.clickWind&&e.clickWind.apply(e,arguments)})},Object(o["toDisplayString"])(e.wind),9,R),Object(o["withDirectives"])(Object(o["createVNode"])(d,{class:"dialog",width:"calc(100% - 20px)",height:"250px"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",F,[Object(o["createVNode"])(c,{class:"way",list:e.finishList,selected:e.finish,"onUpdate:selected":t[1]||(t[1]=function(t){return e.finish=t}),initText:"上がり方",onChangeSelect:e.changeFinish},null,8,["list","selected","onChangeSelect"]),Object(o["createVNode"])(c,{class:"winner",list:e.joinList,selected:e.winner,"onUpdate:selected":t[2]||(t[2]=function(t){return e.winner=t}),initText:"和了者",disabled:2===e.finish,onChangeSelect:e.changeWinner},null,8,["list","selected","disabled","onChangeSelect"]),Object(o["createVNode"])(c,{class:"feeder",list:e.joinList,selected:e.feeder,"onUpdate:selected":t[3]||(t[3]=function(t){return e.feeder=t}),initText:"放銃者",disabled:0!==e.finish,onChangeSelect:e.changeFeeder},null,8,["list","selected","disabled","onChangeSelect"])]),Object(o["createElementVNode"])("div",q,[Object(o["createVNode"])(l,{finish:e.finish,winner:e.winner,feeder:e.feeder,ref:"RonLiquidation"},null,8,["finish","winner","feeder"]),Object(o["createVNode"])(u,{finish:e.finish,winner:e.winner,parent:e.parentId,ref:"TumoLiquidation"},null,8,["finish","winner","parent"]),Object(o["createVNode"])(s,{finish:e.finish,ref:"DrawLiquidation"},null,8,["finish"])]),Object(o["createElementVNode"])("div",U,[Object(o["createElementVNode"])("button",{class:"close-button",onClick:t[4]||(t[4]=function(t){return e.dispFlg=!1})},"閉じる"),Object(o["createElementVNode"])("button",{class:"liquidation-button",onClick:t[5]||(t[5]=function(){return e.liquidation&&e.liquidation.apply(e,arguments)}),disabled:e.liquidationDisabled},"清算",8,$)])]})),_:1},512),[[o["vShow"],e.dispFlg]])])}n("159b"),n("c740");var M={class:"background"};function _(e,t,n,i,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",M,[Object(o["createElementVNode"])("div",{class:"content",style:Object(o["normalizeStyle"])(e.contentStyle)},[Object(o["renderSlot"])(e.$slots,"default")],4)])}var J=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(O["a"])(n,[{key:"contentStyle",get:function(){return{position:"absolute",left:"calc(50% - ("+this.width+"/2))",top:"calc(50% - ("+this.height+"/2))",width:this.width,height:this.height}}}]),n}(g["b"]);J=Object(y["a"])([Object(g["a"])({props:{width:String,height:String}})],J);var W=J;n("5524");const z=c()(W,[["render",_]]);var A=z,G=["value","disabled"],K={value:-1,selected:"",disabled:""},Q=["value"];function X(e,t,n,i,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("select",{class:"select-list",value:e.selected,disabled:e.disabled,onChange:t[0]||(t[0]=function(t){return e.changeSelect(t.target.value)})},[Object(o["createElementVNode"])("option",K,Object(o["toDisplayString"])(e.initText),1),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.list,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{value:e.id,key:e.id},Object(o["toDisplayString"])(e.name),9,Q)})),128))],40,G)}var Y=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(O["a"])(n,[{key:"changeSelect",value:function(e){var t=parseInt(e,10);this.$emit("changeSelect",t)}}]),n}(g["b"]);Y=Object(y["a"])([Object(g["a"])({props:{list:Array,selected:Number,initText:String,disabled:Boolean},emits:["changeSelect"]})],Y);var Z=Y;n("e6ac");const ee=c()(Z,[["render",X]]);var te=ee,ne={class:"ron"},oe={class:"ron-point-row"},ie=Object(o["createElementVNode"])("p",{class:"ron-text"},"和了点数",-1),re={class:"ron-point-row"},ae=Object(o["createElementVNode"])("p",{class:"ron-text"},"供託",-1),ce=["value"],le={class:"ron-point-row"},ue={class:"ron-text"},se=["value"],de=Object(o["createElementVNode"])("hr",{class:"line"},null,-1),be={class:"ron-point-row"},pe=Object(o["createElementVNode"])("p",{class:"ron-text"},"合計",-1),fe={class:"ron-point"};function he(e,t,n,i,r,a){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ne,[Object(o["createElementVNode"])("div",oe,[ie,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"ron-point orange",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.movePoint=t}),placeholder:"点数を入力"},null,512),[[o["vModelText"],e.movePoint,void 0,{number:!0}]])]),Object(o["createElementVNode"])("div",re,[ae,Object(o["createElementVNode"])("input",{class:"ron-point",type:"text",value:e.roundInfo.point,disabled:""},null,8,ce)]),Object(o["createElementVNode"])("div",le,[Object(o["createElementVNode"])("p",ue,Object(o["toDisplayString"])(e.roundInfo.keepParent)+"本場",1),Object(o["createElementVNode"])("input",{class:"ron-point",type:"text",value:300*e.roundInfo.keepParent,disabled:""},null,8,se)]),de,Object(o["createElementVNode"])("div",be,[pe,Object(o["createElementVNode"])("span",fe,Object(o["toDisplayString"])(e.sumPoint),1)])],512)),[[o["vShow"],0===e.finish]])}var me=n("5502"),Oe=n("6fc5"),je=n("2ef0"),ve=n.n(je),ye=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.tableInfoHistory=[],e.tableInfo={playerInfoList:[],roundInfo:{point:0,hand:1,keepParent:0,currentRound:"",isFinish:!1},rule:{number:4,round:0}},e}return Object(O["a"])(n,[{key:"getTableInfo",get:function(){return this.tableInfo}},{key:"getCurrentParent",get:function(){var e=0;return this.getPlayerInfo.forEach((function(t){"東"===t.wind&&(e=t.id)})),e}},{key:"getPlayerInfo",get:function(){return this.tableInfo.playerInfoList}},{key:"rule",get:function(){return this.tableInfo.rule}},{key:"finishCondPoint",get:function(){return 3===this.rule.number?4e4:3e4}},{key:"getRoundInfo",get:function(){return this.tableInfo.roundInfo}},{key:"getCurrentRound",get:function(){return this.tableInfo.roundInfo.currentRound}},{key:"getCurrentHand",get:function(){return this.tableInfo.roundInfo.hand}},{key:"saveTableInfo",value:function(e){this.tableInfoHistory&&!ve.a.isEqual(e,this.tableInfoHistory[0])&&(this.tableInfoHistory.unshift(ve.a.cloneDeep(e)),this.tableInfoHistory.length>10&&this.tableInfoHistory.pop()),console.log(this.tableInfoHistory),this.tableInfo=e}},{key:"updateTableInfo",value:function(e){this.saveTableInfo(e)}},{key:"resetReach",value:function(e){return e.playerInfoList.forEach((function(e){e.reach=!1})),e}},{key:"toggleReach",value:function(e){var t=ve.a.cloneDeep(this.getTableInfo);if(t.playerInfoList.length<=0)alert("不具合っぽいので再読み込みして");else{var n=t.playerInfoList[e];n.reach=!n.reach,n.reach?(n.point-=1e3,t.roundInfo.point+=1e3):(n.point+=1e3,t.roundInfo.point-=1e3),this.saveTableInfo(t)}}},{key:"nextHand",value:function(e){var t=this,n=ve.a.cloneDeep(e.tableInfo),o=["東","南","西","北"];if(this.resetReach(n),e.isKeepParent?n.roundInfo.keepParent++:(n.roundInfo.hand++,n.roundInfo.keepParent=0,n.playerInfoList.forEach((function(e){var t=o.findIndex((function(t){return t===e.wind}));e.wind=o[(t+3)%4]}))),n.roundInfo.hand>4||0===this.rule.round&&"東"!==this.getCurrentRound||1===this.rule.round&&"東"!==this.getCurrentRound&&"南"!==this.getCurrentRound){var i=o.findIndex((function(e){return e===t.getCurrentRound})),r=function(e){return!!n.playerInfoList.some((function(e){return e.point>=3e4}))||(n.roundInfo.hand>4&&(n.roundInfo.hand=1,n.roundInfo.currentRound=o[i+1]),!1)};n.roundInfo.isFinish=-1===i,1===this.rule.round?"東"!==this.getCurrentRound?n.roundInfo.isFinish=r(n.roundInfo):(n.roundInfo.hand=1,n.roundInfo.currentRound=o[i+1]):n.roundInfo.isFinish=r(n.roundInfo)}if(n.roundInfo.isFinish&&n.roundInfo.point>0){var a=ve.a.orderBy(this.getPlayerInfo,["point","id"],["desc","asc"]);n.playerInfoList[a[0].id].point+=n.roundInfo.point,n.roundInfo.point=0}this.saveTableInfo(n)}},{key:"backTableInfo",value:function(){this.tableInfoHistory.length<=1||(this.tableInfoHistory.shift(),this.saveTableInfo(ve.a.cloneDeep(this.tableInfoHistory[0])))}}]),n}(Oe["d"]);Object(y["a"])([Oe["c"]],ye.prototype,"saveTableInfo",null),Object(y["a"])([Object(Oe["a"])({rawError:!0})],ye.prototype,"updateTableInfo",null),Object(y["a"])([Object(Oe["a"])({rawError:!0})],ye.prototype,"resetReach",null),Object(y["a"])([Object(Oe["a"])({rawError:!0})],ye.prototype,"toggleReach",null),Object(y["a"])([Object(Oe["a"])({rawError:!0})],ye.prototype,"nextHand",null),Object(y["a"])([Object(Oe["a"])({rawError:!0})],ye.prototype,"backTableInfo",null),ye=Object(y["a"])([Object(Oe["b"])({dynamic:!0,store:new me["b"].Store({}),name:"TableStore",namespaced:!0})],ye);var ge=Object(Oe["e"])(ye),ke=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.movePoint=0,e}return Object(O["a"])(n,[{key:"roundInfo",get:function(){return ge.getRoundInfo}},{key:"sumPoint",get:function(){var e=this.roundInfo.point+300*this.roundInfo.keepParent;return this.movePoint&&(e+=this.movePoint),e}},{key:"movePointFunc",value:function(){var e=this.winner===ge.getCurrentParent,t=[{id:this.winner,point:this.sumPoint},{id:this.feeder,point:-1*this.movePoint}];return{keepParentFlg:e,movePointList:t}}}]),n}(g["b"]);ke=Object(y["a"])([Object(g["a"])({props:{finish:Number,winner:Number,feeder:Number},emits:["update"],watch:{movePoint:function(e){this.$emit("update",e)}}})],ke);var Ie=ke;n("c9b7");const Ne=c()(Ie,[["render",he]]);var Ee=Ne,Ve={class:"tumo"},we={class:"tumo-point-row"},Pe={key:0,class:"tumo-text"},Se={class:"tumo-point-row"},Le=Object(o["createElementVNode"])("p",{class:"tumo-text orange"},"和了点数(子)",-1),Te={class:"tumo-point-row"},Be=Object(o["createElementVNode"])("p",{class:"tumo-text"},"供託",-1),De=["value"],xe={class:"tumo-point-row"},Ce={class:"tumo-text"},Re=["value"],Fe=Object(o["createElementVNode"])("hr",{class:"line"},null,-1),qe={class:"tumo-point-row"},Ue=Object(o["createElementVNode"])("p",{class:"tumo-text"},"結果",-1),$e={class:"tumo-result"};function He(e,t,n,i,r,a){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ve,[Object(o["createElementVNode"])("div",we,[e.parent!==e.winner?(Object(o["openBlock"])(),Object(o["createElementBlock"])("p",Pe,"和了点数(親)")):Object(o["createCommentVNode"])("",!0),e.parent!==e.winner?Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("input",{key:1,class:"tumo-point orange",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.parentPay=t}),placeholder:"点数を入力"},null,512)),[[o["vModelText"],e.parentPay,void 0,{number:!0}]]):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",Se,[Le,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"tumo-point orange",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.childPay=t}),placeholder:"点数を入力"},null,512),[[o["vModelText"],e.childPay,void 0,{number:!0}]])]),Object(o["createElementVNode"])("div",Te,[Be,Object(o["createElementVNode"])("input",{class:"tumo-point",type:"text",value:e.roundInfo.point,disabled:""},null,8,De)]),Object(o["createElementVNode"])("div",xe,[Object(o["createElementVNode"])("p",Ce,Object(o["toDisplayString"])(e.roundInfo.keepParent)+"本場",1),Object(o["createElementVNode"])("input",{class:"tumo-point",type:"text",value:300*e.roundInfo.keepParent,disabled:""},null,8,Re)]),Fe,Object(o["createElementVNode"])("div",qe,[Ue,Object(o["createElementVNode"])("span",$e,Object(o["toDisplayString"])(e.tumoResult),1)])],512)),[[o["vShow"],1===e.finish]])}n("a15b");var Me=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.parentPay=0,e.childPay=0,e.movePoint=[],e}return Object(O["a"])(n,[{key:"roundInfo",get:function(){return ge.getRoundInfo}},{key:"tumoResult",get:function(){var e=this,t=[],n="",o="",i=[],r=function(t){return t+100*e.roundInfo.keepParent};if(-1===this.winner)return"";ge.getPlayerInfo.forEach((function(n){e.winner===n.id?t.push({id:n.id,point:0}):n.id===e.parent?(o=n.name,t.push({id:n.id,point:-1*r(e.parentPay)})):(i.push(n.name),t.push({id:n.id,point:-1*r(e.childPay)}))})),this.movePoint=t;var a=i.join(",")+" => -"+r(this.childPay);return n=this.parent===this.winner?a:o+" => -"+r(this.parentPay)+"\n"+a,n}},{key:"movePointFunc",value:function(){var e=this,t=this.winner===this.parent,n=-1*(this.movePoint.reduce((function(e,t){return e+t.point}),0)+this.roundInfo.point),o=this.movePoint.map((function(t){return t.point=t.id===e.winner?n:t.point,t}));return{keepParentFlg:t,movePointList:o}}}]),n}(g["b"]);Me=Object(y["a"])([Object(g["a"])({props:{finish:Number,winner:Number,parent:Number}})],Me);var _e=Me;n("a1b3");const Je=c()(_e,[["render",He]]);var We=Je,ze={class:"name-label"};function Ae(e,t,n,i,r,a){var c=Object(o["resolveComponent"])("ToggleButton");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.tempaiList,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"draw",key:t.id},[Object(o["createElementVNode"])("label",ze,Object(o["toDisplayString"])(t.name)+":",1),Object(o["createVNode"])(c,{class:"toggle-button",item:t,onUpdate:e.updateTempai},null,8,["item","onUpdate"])])})),128))],512)),[[o["vShow"],2===e.finish]])}n("4de4");var Ge={class:"toggle-button-component"},Ke=["id","value"],Qe=["for"],Xe=Object(o["createElementVNode"])("div",null,null,-1),Ye=[Xe];function Ze(e,t,n,i,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ge,[Object(o["createElementVNode"])("input",{type:"checkbox",id:"mycheck"+e.item.id,value:e.checked,onClick:t[0]||(t[0]=function(t){return e.update(e.item)})},null,8,Ke),Object(o["createElementVNode"])("label",{class:"check",for:"mycheck"+e.item.id},Ye,8,Qe)])}var et=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.checked=!1,e}return Object(O["a"])(n,[{key:"update",value:function(e){this.checked=!this.checked;var t=ve.a.cloneDeep(this.item);t.checked=this.checked,this.$emit("update",t)}}]),n}(g["b"]);et=Object(y["a"])([Object(g["a"])({props:{item:Object}})],et);var tt=et;n("6d2e");const nt=c()(tt,[["render",Ze]]);var ot=nt,it=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.movePoint=0,e.tempaiList=e.joinList.map((function(e){return Object.assign(e,{checked:!1})})),e}return Object(O["a"])(n,[{key:"parentId",get:function(){return ge.getCurrentParent}},{key:"roundInfo",get:function(){return ge.getRoundInfo}},{key:"joinList",get:function(){return ge.getPlayerInfo.map((function(e){return{id:e.id,name:e.name}}))}},{key:"fine",get:function(){var e=this.tempaiList.filter((function(e){return e.checked})).length;return 0===e||4===e?{winnerPay:0,feederPay:0}:1===e?{winnerPay:3e3,feederPay:-1e3}:2===e?{winnerPay:1500,feederPay:-1500}:{winnerPay:1e3,feederPay:-3e3}}},{key:"updateTempai",value:function(e){this.tempaiList=this.tempaiList.map((function(t){return t.checked=e.id===t.id?e.checked:t.checked,t}))}},{key:"movePointFunc",value:function(){var e=this,t=!1,n=this.tempaiList.map((function(n){n.id===e.parentId&&(t=n.checked);var o=n.checked?e.fine.winnerPay:e.fine.feederPay;return{id:n.id,point:o}}));return{keepParentFlg:t,movePointList:n}}}]),n}(g["b"]);it=Object(y["a"])([Object(g["a"])({props:{finish:Number},components:{ToggleButton:ot}})],it);var rt=it;n("b303");const at=c()(rt,[["render",Ae]]);var ct=at,lt=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.isRon=!1,e.dispFlg=!1,e.finishList=[{id:0,name:"ロン"},{id:1,name:"ツモ"},{id:2,name:"流局"}],e.finish=0,e.winner=-1,e.feeder=-1,e}return Object(O["a"])(n,[{key:"pointResult",get:function(){return 0===this.finish?this.$refs.RonLiquidation.movePointFunc():1===this.finish?this.$refs.TumoLiquidation.movePointFunc():this.$refs.DrawLiquidation.movePointFunc()}},{key:"parentId",get:function(){return ge.getCurrentParent}},{key:"roundInfo",get:function(){return ge.getRoundInfo}},{key:"joinList",get:function(){return ge.getPlayerInfo.map((function(e){return{id:e.id,name:e.name}}))}},{key:"liquidationDisabled",get:function(){return 0===this.finish&&(-1===this.winner||-1===this.feeder)||1===this.finish&&-1===this.winner||2!==this.finish&&this.winner===this.feeder}},{key:"clickWind",value:function(){0===this.id&&(this.dispFlg=!0)}},{key:"changeFinish",value:function(e){this.finish=e}},{key:"changeWinner",value:function(e){this.winner=e}},{key:"changeFeeder",value:function(e){this.feeder=e}},{key:"liquidation",value:function(){var e=this,t=ve.a.cloneDeep(ge.getTableInfo);t.playerInfoList.forEach((function(t){var n=e.pointResult.movePointList.findIndex((function(e){return e.id===t.id}));n>=0&&(t.point+=e.pointResult.movePointList[n].point)})),2!==this.finish&&(t.roundInfo.point=0),ge.nextHand({tableInfo:t,isKeepParent:this.pointResult.keepParentFlg}),this.dispFlg=!1,this.roundInfo.isFinish&&this.$router.push("/result")}}]),n}(g["b"]);lt=Object(y["a"])([Object(g["a"])({props:{wind:String,id:Number},components:{Dialog:A,SelectList:te,RonLiquidation:Ee,TumoLiquidation:We,DrawLiquidation:ct}})],lt);var ut=lt;n("c49c");const st=c()(ut,[["render",H]]);var dt=st,bt=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.isTouching=!1,e}return Object(O["a"])(n,[{key:"dispPoint",get:function(){return this.isOtherTouch?this.diffPoint:this.playerInfo.point}},{key:"doReach",value:function(e){ge.toggleReach(e)}},{key:"mounted",value:function(){var e=this,t=this.$refs.pointDisplay.$el,n=navigator.userAgent.toLowerCase(),o=/iphone|ipod|ipad|android/.test(n),i=o?"touchstart":"mousedown",r=o?"touchend":"mouseup";t.addEventListener(i,(function(t){t.preventDefault(),e.isTouching=!0,e.$emit("touchStart",e.playerInfo.point)})),t.addEventListener(r,(function(t){t.preventDefault(),e.isTouching=!1,e.$emit("touchEnd")}))}}]),n}(g["b"]);bt=Object(y["a"])([Object(g["a"])({components:{PointDisplay:S,Wind:dt},props:{playerInfo:{type:Object,default:{wind:"",reach:!1,point:25e3}},diffPoint:Number,isOtherTouch:Boolean}})],bt);var pt=bt;n("6273");const ft=c()(pt,[["render",C]]);var ht=ft,mt={class:"round-info"},Ot=Object(o["createElementVNode"])("img",{class:"reach-img",src:T.a},null,-1);function jt(e,t,n,i,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",mt,[Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(e.tableInfo.currentRound)+Object(o["toDisplayString"])(e.tableInfo.hand)+"局",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.tableInfo.keepParent)+"本場",1),Object(o["createElementVNode"])("div",null,[Ot,Object(o["createTextVNode"])("× "+Object(o["toDisplayString"])(e.reachNum),1)])])}var vt=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(O["a"])(n,[{key:"tableInfo",get:function(){return ge.getRoundInfo}},{key:"reachNum",get:function(){return this.tableInfo.point/1e3}}]),n}(g["b"]);n("9aaa");const yt=c()(vt,[["render",jt]]);var gt=yt,kt=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.touchedPoint=0,e.isTouch=!1,e}return Object(O["a"])(n,[{key:"tableInfo",get:function(){return ge.getTableInfo}},{key:"playerInfo",get:function(){return this.tableInfo.playerInfoList}},{key:"diffPoint",get:function(){var e=this,t=[0,0,0,0];return t=this.playerInfo.map((function(t){return e.touchedPoint-t.point})),t}},{key:"touchStart",value:function(e){this.touchedPoint=e,this.isTouch=!0}},{key:"touchEnd",value:function(){this.isTouch=!1}}]),n}(g["b"]);kt=Object(y["a"])([Object(g["a"])({components:{PointDisplay:S,Player:ht,RoundInfo:gt}})],kt);var It=kt;n("aa30");const Nt=c()(It,[["render",I]]);var Et=Nt,Vt=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(O["a"])(n,[{key:"back",value:function(){ge.backTableInfo()}}]),n}(g["b"]);Vt=Object(y["a"])([Object(g["a"])({components:{CenterTable:Et}})],Vt);var wt=Vt;n("2b51");const Pt=c()(wt,[["render",h]]);var St=Pt,Lt={class:"Initialize"},Tt=Object(o["createElementVNode"])("h1",null,"ルール",-1),Bt={class:"rule"},Dt=Object(o["createTextVNode"])(" 人数： "),xt=Object(o["createTextVNode"])("4人 "),Ct=Object(o["createTextVNode"])("3人 "),Rt=Object(o["createElementVNode"])("br",null,null,-1),Ft=Object(o["createTextVNode"])(" 試合の長さ： "),qt=Object(o["createTextVNode"])("東風 "),Ut=Object(o["createTextVNode"])("半荘 "),$t=Object(o["createElementVNode"])("br",null,null,-1),Ht=Object(o["createTextVNode"])(" ウマ： "),Mt=Object(o["createElementVNode"])("span",{class:"item-value"},"有り(5-10)",-1),_t=Object(o["createElementVNode"])("br",null,null,-1),Jt=Object(o["createTextVNode"])(" オカ： "),Wt=Object(o["createElementVNode"])("span",{class:"item-value"},"有り",-1),zt=Object(o["createElementVNode"])("h1",null,"場決め",-1),At={class:"participate"},Gt=Object(o["createElementVNode"])("h2",null,"リスト追加",-1),Kt={class:"list"},Qt={class:"start"},Xt=["disabled"];function Yt(e,t,n,i,r,a){var c=Object(o["resolveComponent"])("DraggableList");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Lt,[Tt,Object(o["createElementVNode"])("div",Bt,[Dt,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"item-value",type:"radio",name:"number","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.number=t}),value:4},null,512),[[o["vModelRadio"],e.number]]),xt,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"item-value",type:"radio",name:"number","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.number=t}),value:3,disabled:""},null,512),[[o["vModelRadio"],e.number]]),Ct,Rt,Ft,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"item-value",type:"radio",name:"round","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.round=t}),value:0},null,512),[[o["vModelRadio"],e.round]]),qt,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"item-value",type:"radio",name:"round","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.round=t}),value:1},null,512),[[o["vModelRadio"],e.round]]),Ut,$t,Ht,Mt,_t,Jt,Wt]),zt,Object(o["createElementVNode"])("div",At,[Gt,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.playerName=t})},null,512),[[o["vModelText"],e.playerName]]),Object(o["createElementVNode"])("button",{class:"join-button",onClick:t[5]||(t[5]=function(t){return e.add(e.playerName)})},"追加"),Object(o["createElementVNode"])("div",Kt,[Object(o["createVNode"])(c,{title:"参加リスト",group:"myGroup",list:e.nameList,"onUpdate:list":t[6]||(t[6]=function(t){return e.nameList=t})},null,8,["list"]),Object(o["createVNode"])(c,{class:"join",title:"参加者",group:"myGroup",list:e.particepateList,"onUpdate:list":t[7]||(t[7]=function(t){return e.particepateList=t})},null,8,["list"]),Object(o["createVNode"])(c,{class:"wind",title:"場所",group:"windGroup",list:e.windList,"onUpdate:list":t[8]||(t[8]=function(t){return e.windList=t})},null,8,["list"])])]),Object(o["createElementVNode"])("div",Qt,[Object(o["createElementVNode"])("button",{class:"start-button",onClick:t[9]||(t[9]=function(){return e.gameStart&&e.gameStart.apply(e,arguments)}),disabled:e.isStartable},"ゲームを始める",8,Xt)])])}var Zt=n("b76a"),en=n.n(Zt),tn={class:"draggable-list"},nn={class:"item"};function on(e,t,n,i,r,a){var c=Object(o["resolveComponent"])("draggable");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",tn,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])(c,{class:"name-list",group:e.group,"item-key":"id",list:e.list,"onUpdate:list":t[0]||(t[0]=function(t){return e.list=t}),onStart:t[1]||(t[1]=function(t){return e.drag=!0}),onEnd:t[2]||(t[2]=function(t){return e.drag=!1})},{item:Object(o["withCtx"])((function(e){var t=e.element;return[Object(o["createElementVNode"])("div",nn,Object(o["toDisplayString"])(t),1)]})),_:1},8,["group","list"])])}var rn=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return n}(g["b"]);rn=Object(y["a"])([Object(g["a"])({props:{title:String,group:String,list:Array},components:{draggable:en.a}})],rn);var an=rn;n("c883");const cn=c()(an,[["render",on]]);var ln=cn,un=function e(t,n,o){Object(m["a"])(this,e),this.id=e.i,this.name=o||"player"+(this.id+1),this.wind=n,this.point=t,this.reach=!1,e.i++};un.i=0;var sn=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.number=4,e.round=1,e.playerName="",e.nameList=[],e.particepateList=[],e}return Object(O["a"])(n,[{key:"isStartable",get:function(){return this.particepateList.length!==this.number}},{key:"windList",get:function(){var e=["東","南","西","北"];return e}},{key:"created",value:function(){this.nameList=localStorage.name?JSON.parse(localStorage.name):[];var e=localStorage.tableInfo?JSON.parse(localStorage.tableInfo):{};e&&e.playerInfoList&&e.playerInfoList.length>0&&(window.confirm("前回の続きから始めますか？")?(ge.updateTableInfo(e),this.$router.push("/table")):localStorage.removeItem("tableInfo"))}},{key:"add",value:function(e){""!==e?(this.playerName="",this.nameList.push(e),localStorage.name=JSON.stringify(this.nameList)):alert("空白、ダメ")}},{key:"gameStart",value:function(){var e=this,t=4===this.number?25e3:35e3,n=this.windList.map((function(n,o){var i={};return i=e.particepateList.length>o?new un(t,n,e.particepateList[o]):new un(0,n,""),i})),o={playerInfoList:n,roundInfo:{point:0,hand:1,keepParent:0,currentRound:"東",isFinish:!1},rule:{number:this.number,round:this.round}};ge.updateTableInfo(o),this.$router.push("/table")}}]),n}(g["b"]);sn=Object(y["a"])([Object(g["a"])({components:{draggable:en.a,DraggableList:ln}})],sn);var dn=sn;n("16c3");const bn=c()(dn,[["render",Yt]]);var pn=bn,fn={class:"result"},hn=Object(o["createElementVNode"])("h1",null,"結果",-1),mn={class:"label"},On={class:"name"},jn={class:"point"},vn={class:"calc"},yn={class:"buttons"};function gn(e,t,n,i,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",fn,[hn,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.playerInfoList,(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"result-disp",key:t.id},[Object(o["createElementVNode"])("p",mn,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n+1)+"位:",1),Object(o["createElementVNode"])("span",On,Object(o["toDisplayString"])(t.name),1),Object(o["createElementVNode"])("span",jn,Object(o["toDisplayString"])(t.point),1),Object(o["createElementVNode"])("span",vn,Object(o["toDisplayString"])(e.calc(n+1,t.point)),1)])])})),128)),Object(o["createElementVNode"])("div",yn,[Object(o["createElementVNode"])("button",{class:"finish-button",onClick:t[0]||(t[0]=function(){return e.finish&&e.finish.apply(e,arguments)}),disabled:""},"CSV出力"),Object(o["createElementVNode"])("button",{class:"finish-button",onClick:t[1]||(t[1]=function(){return e.finish&&e.finish.apply(e,arguments)})},"終了する")])])}var kn=function(e){Object(j["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(O["a"])(n,[{key:"playerInfoList",get:function(){return ve.a.orderBy(ge.getPlayerInfo,["point","id"],["desc","asc"])}},{key:"calc",value:function(e,t){var n=Math.round((t-100)/1e3);console.log(e);var o=1===e?20:0,i=n+this.umaCalc(e)+o-30;return i>0?"+"+i:i}},{key:"umaCalc",value:function(e){return 1===e?10:2===e?5:3===e?-5:-10}},{key:"finish",value:function(){localStorage.removeItem("tableInfo"),this.$router.push("/")}}]),n}(g["b"]);n("66ce");const In=c()(kn,[["render",gn]]);var Nn=In,En=!1,Vn=[{path:"/",name:"Initialize",component:pn,meta:{init:!0}},{path:"/table",name:"Table",component:St,meta:{requiresInit:!0}},{path:"/result",name:"Result",component:Nn,meta:{requiresInit:!0}}],wn=Object(d["a"])({history:Object(d["b"])("/"),routes:Vn});wn.beforeEach((function(e,t,n){"Result"===t.name&&(En=!1),t.meta.init&&(En=!0),e.matched.some((function(e){return e.meta.requiresInit}))&&!En?n({path:"/"}):n()}));var Pn=wn,Sn=Object(me["a"])({modules:{TableStore:ge}});window.addEventListener("pagehide",(function(e){e.preventDefault(),localStorage.tableInfo=JSON.stringify(ge.getTableInfo),confirm("他のページに移動しますか？")})),window.addEventListener("beforeunload",(function(e){console.log(Pn.currentRoute),e.preventDefault(),localStorage.tableInfo=JSON.stringify(ge.getTableInfo),e.returnValue="他のページに移動しますか？"})),n("e008"),Object(o["createApp"])(s).use(Sn).use(Pn).mount("#app")},d298:function(e,t,n){},db97:function(e,t,n){},e008:function(e,t,n){},e6ac:function(e,t,n){"use strict";n("2f52")},ece7:function(e,t,n){}});
//# sourceMappingURL=app.4b5cc1a8.js.map